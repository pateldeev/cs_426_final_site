<!-- Page to allow users to see their exiting jobs. -->

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">

    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg">

    <title id="page_title">Existing Job: </title>
    <link rel="stylesheet" href="existing_jobs.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script type="text/javascript" src="/scripts/job/existing_jobs.js"></script>
</head>

<body>
    <a href='../login/logout.php' id='logout_link'>Log out</a> <br>
    <a href="../login/login.php" id='home_link'>User Home</a>
    <div class="centered">
        <div class="child">
            <a href="../login/login.php">
                <img src="../images/logopng.png" style="width:450px;height:550px;">
            </a>
            <h1 id="existing_header">Existing Jobs for: </h1>

            <table id="existing_jobs_table">
                <tr class="table_header">
                    <th>
                        <div class="tooltip">Job ID
                            <span class="tooltiptext">Unique identifier of the job. Generated by hashing time and user
                                at creation.</span>
                        </div>
                    </th>
                    <th>
                        <div class="tooltip">Date Created
                            <span class="tooltiptext">The date of creation for the job. This is different from when the
                                job is officially started and executed.</span>
                        </div>
                    </th>
                    <th>
                        <div class="tooltip">Status
                            <button type="button"><i class="fa fa-question-circle"></i></button>
                            <span class="tooltiptext">The status of the job.
                                <br><br> Created: Job has been created and is ready to start.
                                <br><br> Queued: The job is in the backend queue and will start when GPU resources are
                                available.
                                <br><br> Running: Job is running. User can see live stream of results by going to job
                                page.
                                <br><br> Done: Job is done. User can request access to generated song.
                                <br><br> Archived: Job has been archived. User cannot get access to generated song
                                anymore.
                                <br><br> Error: Job has an error! Please goto to job link to see more info. </span>
                        </div>
                    </th>
                </tr>
            </table>
            <a id="create_link" class=myButton href="create_job.html?user=">Create Job</a>
        </div>
    </div>
    <br><br>
    <script>
        const user_name = validate_user();
        populate_jobs_table(user_name);
    </script>
</body>

</html>